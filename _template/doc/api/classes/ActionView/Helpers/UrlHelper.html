<!--
 ! Excerpted from "Ruby on Rails, 2nd Ed."
 ! We make no guarantees that this code is fit for any purpose. 
 ! Visit http://www.editions-eyrolles.com/Livre/9782212120790/ for more book information.
-->
<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Module: ActionView::Helpers::UrlHelper</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Module</strong></td>
          <td class="class-name-in-header">ActionView::Helpers::UrlHelper</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../../../files/vendor/rails/actionpack/lib/action_view/helpers/url_helper_rb.html">
                vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb
                </a>
        <br />
            </td>
        </tr>

        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <p>
Provides a set of methods for making easy links and getting urls that
depend on the controller and action. This means that you can use the same
format for links in the views that you do in the controller. The different
methods are even named synchronously, so <a
href="UrlHelper.html#M000556">link_to</a> uses that same url as is
generated by <a href="UrlHelper.html#M000555">url_for</a>, which again is
the same url used for redirection in redirect_to.
</p>

    </div>


   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000557">button_to</a>&nbsp;&nbsp;
      <a href="#M000564">current_page?</a>&nbsp;&nbsp;
      <a href="#M000558">link_image_to</a>&nbsp;&nbsp;
      <a href="#M000556">link_to</a>&nbsp;&nbsp;
      <a href="#M000562">link_to_if</a>&nbsp;&nbsp;
      <a href="#M000559">link_to_image</a>&nbsp;&nbsp;
      <a href="#M000561">link_to_unless</a>&nbsp;&nbsp;
      <a href="#M000560">link_to_unless_current</a>&nbsp;&nbsp;
      <a href="#M000563">mail_to</a>&nbsp;&nbsp;
      <a href="#M000555">url_for</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->
    <div id="includes">
      <h3 class="section-bar">Included Modules</h3>

      <div id="includes-list">
        <span class="include-name"><a href="JavaScriptHelper.html">JavaScriptHelper</a></span>
      </div>
    </div>

    <div id="section">





      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000557" class="method-detail">
        <a name="M000557"></a>

        <div class="method-heading">
          <a href="#M000557" class="method-signature">
          <span class="method-name">button_to</span><span class="method-args">(name, options = {}, html_options = nil)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Generates a form containing a sole button that submits to the URL given by
<em>options</em>. Use this method instead of <tt><a
href="UrlHelper.html#M000556">link_to</a></tt> for actions that do not have
the safe HTTP GET semantics implied by using a hypertext link.
</p>
<p>
The parameters are the same as for <tt><a
href="UrlHelper.html#M000556">link_to</a></tt>. Any <em>html_options</em>
that you pass will be applied to the inner <tt>input</tt> element. In
particular, pass
</p>
<pre>
  :disabled =&gt; true/false
</pre>
<p>
as part of <em>html_options</em> to control whether the button is disabled.
The generated form element is given the class &#8216;button-to&#8217;, to
which you can attach CSS styles for display purposes.
</p>
<p>
Example 1:
</p>
<pre>
  # inside of controller for &quot;feeds&quot;
  button_to &quot;Edit&quot;, :action =&gt; 'edit', :id =&gt; 3
</pre>
<p>
Generates the following HTML (sans formatting):
</p>
<pre>
  &lt;form method=&quot;post&quot; action=&quot;/feeds/edit/3&quot; class=&quot;button-to&quot;&gt;
    &lt;div&gt;&lt;input value=&quot;Edit&quot; type=&quot;submit&quot; /&gt;&lt;/div&gt;
  &lt;/form&gt;
</pre>
<p>
Example 2:
</p>
<pre>
  button_to &quot;Destroy&quot;, { :action =&gt; 'destroy', :id =&gt; 3 },
            :confirm =&gt; &quot;Are you sure?&quot;, :method =&gt; :delete
</pre>
<p>
Generates the following HTML (sans formatting):
</p>
<pre>
  &lt;form method=&quot;post&quot; action=&quot;/feeds/destroy/3&quot; class=&quot;button-to&quot;&gt;
    &lt;div&gt;
      &lt;input type=&quot;hidden&quot; name=&quot;_method&quot; value=&quot;delete&quot; /&gt;
      &lt;input onclick=&quot;return confirm('Are you sure?');&quot;
                value=&quot;Destroy&quot; type=&quot;submit&quot; /&gt;
    &lt;/div&gt;
  &lt;/form&gt;
</pre>
<p>
<b>NOTE</b>: This method generates HTML code that represents a form. Forms
are &quot;block&quot; content, which means that you should not try to
insert them into your HTML where only inline content is expected. For
example, you can legally insert a form inside of a <tt>div</tt> or
<tt>td</tt> element or in between <tt>p</tt> elements, but not in the
middle of a run of text, nor can you place a form within another form.
(Bottom line: Always validate your HTML before going public.)
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000557-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000557-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb, line 115</span>
115:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">button_to</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span> = {}, <span class="ruby-identifier">html_options</span> = <span class="ruby-keyword kw">nil</span>)
116:         <span class="ruby-identifier">html_options</span> = (<span class="ruby-identifier">html_options</span> <span class="ruby-operator">||</span> {}).<span class="ruby-identifier">stringify_keys</span>
117:         <span class="ruby-identifier">convert_boolean_attributes!</span>(<span class="ruby-identifier">html_options</span>, <span class="ruby-node">%w( disabled )</span>)
118: 
119:         <span class="ruby-identifier">method_tag</span> = <span class="ruby-value str">''</span>
120:         <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">method</span> = <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value str">'method'</span>)) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-node">%w{put delete}</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">method</span>.<span class="ruby-identifier">to_s</span>)
121:           <span class="ruby-identifier">method_tag</span> = <span class="ruby-identifier">tag</span>(<span class="ruby-value str">'input'</span>, <span class="ruby-identifier">:type</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'hidden'</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'_method'</span>, <span class="ruby-identifier">:value</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">method</span>.<span class="ruby-identifier">to_s</span>)
122:         <span class="ruby-keyword kw">end</span>
123: 
124:         <span class="ruby-identifier">form_method</span> = <span class="ruby-identifier">method</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'get'</span> <span class="ruby-operator">?</span> <span class="ruby-value str">'get'</span> <span class="ruby-operator">:</span> <span class="ruby-value str">'post'</span>
125: 
126:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">confirm</span> = <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value str">&quot;confirm&quot;</span>)
127:           <span class="ruby-identifier">html_options</span>[<span class="ruby-value str">&quot;onclick&quot;</span>] = <span class="ruby-node">&quot;return #{confirm_javascript_function(confirm)};&quot;</span>
128:         <span class="ruby-keyword kw">end</span>
129: 
130:         <span class="ruby-identifier">url</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">options</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">options</span>)
131:         <span class="ruby-identifier">name</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">url</span>
132: 
133:         <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-value str">&quot;type&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;submit&quot;</span>, <span class="ruby-value str">&quot;value&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">name</span>)
134: 
135:         <span class="ruby-node">&quot;&lt;form method=\&quot;#{form_method}\&quot; action=\&quot;#{h url}\&quot; class=\&quot;button-to\&quot;&gt;&lt;div&gt;&quot;</span> <span class="ruby-operator">+</span> 
136:           <span class="ruby-identifier">method_tag</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">tag</span>(<span class="ruby-value str">&quot;input&quot;</span>, <span class="ruby-identifier">html_options</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;&lt;/div&gt;&lt;/form&gt;&quot;</span>
137:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000564" class="method-detail">
        <a name="M000564"></a>

        <div class="method-heading">
          <a href="#M000564" class="method-signature">
          <span class="method-name">current_page?</span><span class="method-args">(options)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns true if the current page uri is generated by the options passed (in
<a href="UrlHelper.html#M000555">url_for</a> format).
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000564-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000564-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb, line 258</span>
258:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">current_page?</span>(<span class="ruby-identifier">options</span>)
259:         <span class="ruby-constant">CGI</span>.<span class="ruby-identifier">escapeHTML</span>(<span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">options</span>)) <span class="ruby-operator">==</span> <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">request</span>.<span class="ruby-identifier">request_uri</span>
260:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000558" class="method-detail">
        <a name="M000558"></a>

        <div class="method-heading">
          <a href="#M000558" class="method-signature">
          <span class="method-name">link_image_to</span><span class="method-args">(src, options = {}, html_options = {}, *parameters_for_method_reference)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
This tag is deprecated. Combine the <a
href="UrlHelper.html#M000556">link_to</a> and AssetTagHelper::image_tag
yourself instead, like:
</p>
<pre>
  link_to(image_tag(&quot;rss&quot;, :size =&gt; &quot;30x45&quot;, :border =&gt; 0), &quot;http://www.example.com&quot;)
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000558-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000558-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb, line 142</span>
142:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">link_image_to</span>(<span class="ruby-identifier">src</span>, <span class="ruby-identifier">options</span> = {}, <span class="ruby-identifier">html_options</span> = {}, <span class="ruby-operator">*</span><span class="ruby-identifier">parameters_for_method_reference</span>)
143:         <span class="ruby-identifier">image_options</span> = { <span class="ruby-value str">&quot;src&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">src</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">&quot;/&quot;</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">src</span> <span class="ruby-operator">:</span> <span class="ruby-node">&quot;/images/#{src}&quot;</span> }
144:         <span class="ruby-identifier">image_options</span>[<span class="ruby-value str">&quot;src&quot;</span>] <span class="ruby-operator">+=</span> <span class="ruby-value str">&quot;.png&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">image_options</span>[<span class="ruby-value str">&quot;src&quot;</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-value str">&quot;.&quot;</span>)
145: 
146:         <span class="ruby-identifier">html_options</span> = <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">stringify_keys</span>
147:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">html_options</span>[<span class="ruby-value str">&quot;alt&quot;</span>]
148:           <span class="ruby-identifier">image_options</span>[<span class="ruby-value str">&quot;alt&quot;</span>] = <span class="ruby-identifier">html_options</span>[<span class="ruby-value str">&quot;alt&quot;</span>]
149:           <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span> <span class="ruby-value str">&quot;alt&quot;</span>
150:         <span class="ruby-keyword kw">else</span>
151:           <span class="ruby-identifier">image_options</span>[<span class="ruby-value str">&quot;alt&quot;</span>] = <span class="ruby-identifier">src</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;/&quot;</span>).<span class="ruby-identifier">last</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;.&quot;</span>).<span class="ruby-identifier">first</span>.<span class="ruby-identifier">capitalize</span>
152:         <span class="ruby-keyword kw">end</span>
153: 
154:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">html_options</span>[<span class="ruby-value str">&quot;size&quot;</span>]
155:           <span class="ruby-identifier">image_options</span>[<span class="ruby-value str">&quot;width&quot;</span>], <span class="ruby-identifier">image_options</span>[<span class="ruby-value str">&quot;height&quot;</span>] = <span class="ruby-identifier">html_options</span>[<span class="ruby-value str">&quot;size&quot;</span>].<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;x&quot;</span>)
156:           <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span> <span class="ruby-value str">&quot;size&quot;</span>
157:         <span class="ruby-keyword kw">end</span>
158: 
159:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">html_options</span>[<span class="ruby-value str">&quot;border&quot;</span>]
160:           <span class="ruby-identifier">image_options</span>[<span class="ruby-value str">&quot;border&quot;</span>] = <span class="ruby-identifier">html_options</span>[<span class="ruby-value str">&quot;border&quot;</span>]
161:           <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span> <span class="ruby-value str">&quot;border&quot;</span>
162:         <span class="ruby-keyword kw">end</span>
163: 
164:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">html_options</span>[<span class="ruby-value str">&quot;align&quot;</span>]
165:           <span class="ruby-identifier">image_options</span>[<span class="ruby-value str">&quot;align&quot;</span>] = <span class="ruby-identifier">html_options</span>[<span class="ruby-value str">&quot;align&quot;</span>]
166:           <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span> <span class="ruby-value str">&quot;align&quot;</span>
167:         <span class="ruby-keyword kw">end</span>
168: 
169:         <span class="ruby-identifier">link_to</span>(<span class="ruby-identifier">tag</span>(<span class="ruby-value str">&quot;img&quot;</span>, <span class="ruby-identifier">image_options</span>), <span class="ruby-identifier">options</span>, <span class="ruby-identifier">html_options</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">parameters_for_method_reference</span>)
170:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000556" class="method-detail">
        <a name="M000556"></a>

        <div class="method-heading">
          <a href="#M000556" class="method-signature">
          <span class="method-name">link_to</span><span class="method-args">(name, options = {}, html_options = nil, *parameters_for_method_reference)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Creates a link tag of the given <tt>name</tt> using an URL created by the
set of <tt>options</tt>. See the valid options in the documentation for <a
href="../../ActionController/Base.html#M000365">ActionController::Base#url_for</a>.
It&#8217;s also possible to pass a string instead of an options hash to get
a link tag that just points without consideration. If nil is passed as a
name, the link itself will become the name.
</p>
<p>
The html_options has three special features. One for creating javascript
confirm alerts where if you pass :confirm =&gt; &#8216;Are you
sure?&#8217;, the link will be guarded with a JS popup asking that
question. If the user accepts, the link is processed, otherwise not.
</p>
<p>
Another for creating a popup window, which is done by either passing :popup
with true or the options of the window in Javascript form.
</p>
<p>
And a third for making the link do a non-GET request through a dynamically
added form element that is instantly submitted. Note that if the user has
turned off Javascript, the request will fall back on the GET. So its your
responsibility to determine what the action should be once it arrives at
the controller. The form is turned on by passing :method with the option of
either :post, :delete, or :put as the value. Usually only :post or :delete
will make sense, though. Note, it&#8217;s not possible to use method
request and popup targets at the same time (an exception will be thrown).
</p>
<p>
Examples:
</p>
<pre>
  link_to &quot;Delete this page&quot;, { :action =&gt; &quot;destroy&quot;, :id =&gt; @page.id }, :confirm =&gt; &quot;Are you sure?&quot;
  link_to &quot;Help&quot;, { :action =&gt; &quot;help&quot; }, :popup =&gt; true
  link_to &quot;Busy loop&quot;, { :action =&gt; &quot;busy&quot; }, :popup =&gt; ['new_window', 'height=300,width=600']
  link_to &quot;Destroy account&quot;, { :action =&gt; &quot;destroy&quot; }, :confirm =&gt; &quot;Are you sure?&quot;, :method =&gt; :delete
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000556-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000556-source">
<pre>
    <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb, line 53</span>
53:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">link_to</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span> = {}, <span class="ruby-identifier">html_options</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">parameters_for_method_reference</span>)
54:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">html_options</span>
55:           <span class="ruby-identifier">html_options</span> = <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">stringify_keys</span>
56:           <span class="ruby-identifier">convert_options_to_javascript!</span>(<span class="ruby-identifier">html_options</span>)
57:           <span class="ruby-identifier">tag_options</span> = <span class="ruby-identifier">tag_options</span>(<span class="ruby-identifier">html_options</span>)
58:         <span class="ruby-keyword kw">else</span>
59:           <span class="ruby-identifier">tag_options</span> = <span class="ruby-keyword kw">nil</span>
60:         <span class="ruby-keyword kw">end</span>
61: 
62:         <span class="ruby-identifier">url</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">options</span> <span class="ruby-operator">:</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">options</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">parameters_for_method_reference</span>)
63:         <span class="ruby-node">&quot;&lt;a href=\&quot;#{url}\&quot;#{tag_options}&gt;#{name || url}&lt;/a&gt;&quot;</span>
64:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000562" class="method-detail">
        <a name="M000562"></a>

        <div class="method-heading">
          <a href="#M000562" class="method-signature">
          <span class="method-name">link_to_if</span><span class="method-args">(condition, name, options = {}, html_options = {}, *parameters_for_method_reference, &amp;block)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Create a link tag of the given <tt>name</tt> using an URL created by the
set of <tt>options</tt>, if <tt>condition</tt> is true, in which case only
the name is returned (or the given block is yielded, if one exists).
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000562-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000562-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb, line 198</span>
198:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">link_to_if</span>(<span class="ruby-identifier">condition</span>, <span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span> = {}, <span class="ruby-identifier">html_options</span> = {}, <span class="ruby-operator">*</span><span class="ruby-identifier">parameters_for_method_reference</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
199:         <span class="ruby-identifier">link_to_unless</span> <span class="ruby-operator">!</span><span class="ruby-identifier">condition</span>, <span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span>, <span class="ruby-identifier">html_options</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">parameters_for_method_reference</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>
200:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000559" class="method-detail">
        <a name="M000559"></a>

        <div class="method-heading">
          <span class="method-name">link_to_image</span><span class="method-args">(src, options = {}, html_options = {}, *parameters_for_method_reference)</span>
        </div>
      
        <div class="method-description">
          <p>
Alias for <a href="UrlHelper.html#M000558">link_image_to</a>
</p>
        </div>
      </div>

      <div id="method-M000561" class="method-detail">
        <a name="M000561"></a>

        <div class="method-heading">
          <a href="#M000561" class="method-signature">
          <span class="method-name">link_to_unless</span><span class="method-args">(condition, name, options = {}, html_options = {}, *parameters_for_method_reference) {|name| ...}</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Create a link tag of the given <tt>name</tt> using an URL created by the
set of <tt>options</tt>, unless <tt>condition</tt> is true, in which case
only the name is returned (or the given block is yielded, if one exists).
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000561-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000561-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb, line 184</span>
184:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">link_to_unless</span>(<span class="ruby-identifier">condition</span>, <span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span> = {}, <span class="ruby-identifier">html_options</span> = {}, <span class="ruby-operator">*</span><span class="ruby-identifier">parameters_for_method_reference</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
185:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">condition</span>
186:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
187:             <span class="ruby-identifier">block</span>.<span class="ruby-identifier">arity</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value">1</span> <span class="ruby-operator">?</span> <span class="ruby-keyword kw">yield</span>(<span class="ruby-identifier">name</span>) <span class="ruby-operator">:</span> <span class="ruby-keyword kw">yield</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span>, <span class="ruby-identifier">html_options</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">parameters_for_method_reference</span>)
188:           <span class="ruby-keyword kw">else</span>
189:             <span class="ruby-identifier">name</span>
190:           <span class="ruby-keyword kw">end</span>
191:         <span class="ruby-keyword kw">else</span>
192:           <span class="ruby-identifier">link_to</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span>, <span class="ruby-identifier">html_options</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">parameters_for_method_reference</span>)
193:         <span class="ruby-keyword kw">end</span>  
194:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000560" class="method-detail">
        <a name="M000560"></a>

        <div class="method-heading">
          <a href="#M000560" class="method-signature">
          <span class="method-name">link_to_unless_current</span><span class="method-args">(name, options = {}, html_options = {}, *parameters_for_method_reference, &amp;block)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Creates a link tag of the given <tt>name</tt> using an URL created by the
set of <tt>options</tt>, unless the current request uri is the same as the
link&#8217;s, in which case only the name is returned (or the given block
is yielded, if one exists). This is useful for creating link bars where you
don&#8217;t want to link to the page currently being viewed.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000560-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000560-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb, line 178</span>
178:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">link_to_unless_current</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span> = {}, <span class="ruby-identifier">html_options</span> = {}, <span class="ruby-operator">*</span><span class="ruby-identifier">parameters_for_method_reference</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
179:         <span class="ruby-identifier">link_to_unless</span> <span class="ruby-identifier">current_page?</span>(<span class="ruby-identifier">options</span>), <span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span>, <span class="ruby-identifier">html_options</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">parameters_for_method_reference</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>
180:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000563" class="method-detail">
        <a name="M000563"></a>

        <div class="method-heading">
          <a href="#M000563" class="method-signature">
          <span class="method-name">mail_to</span><span class="method-args">(email_address, name = nil, html_options = {})</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Creates a link tag for starting an email to the specified
<tt>email_address</tt>, which is also used as the name of the link unless
<tt>name</tt> is specified. Additional HTML options, such as class or id,
can be passed in the <tt>html_options</tt> hash.
</p>
<p>
You can also make it difficult for spiders to harvest email address by
obfuscating them. Examples:
</p>
<pre>
  mail_to &quot;me@domain.com&quot;, &quot;My email&quot;, :encode =&gt; &quot;javascript&quot;  # =&gt;
    &lt;script type=&quot;text/javascript&quot; language=&quot;javascript&quot;&gt;eval(unescape('%64%6f%63%75%6d%65%6e%74%2e%77%72%69%74%65%28%27%3c%61%20%68%72%65%66%3d%22%6d%61%69%6c%74%6f%3a%6d%65%40%64%6f%6d%61%69%6e%2e%63%6f%6d%22%3e%4d%79%20%65%6d%61%69%6c%3c%2f%61%3e%27%29%3b'))&lt;/script&gt;

  mail_to &quot;me@domain.com&quot;, &quot;My email&quot;, :encode =&gt; &quot;hex&quot;  # =&gt;
    &lt;a href=&quot;mailto:%6d%65@%64%6f%6d%61%69%6e.%63%6f%6d&quot;&gt;My email&lt;/a&gt;
</pre>
<p>
You can also specify the cc address, bcc address, subject, and body parts
of the message header to create a complex e-mail using the corresponding
<tt>cc</tt>, <tt>bcc</tt>, <tt>subject</tt>, and <tt>body</tt>
<tt>html_options</tt> keys. Each of these options are URI escaped and then
appended to the <tt>email_address</tt> before being output. <b>Be aware
that javascript keywords will not be escaped and may break this feature
when encoding with javascript.</b> Examples:
</p>
<pre>
  mail_to &quot;me@domain.com&quot;, &quot;My email&quot;, :cc =&gt; &quot;ccaddress@domain.com&quot;, :bcc =&gt; &quot;bccaddress@domain.com&quot;, :subject =&gt; &quot;This is an example email&quot;, :body =&gt; &quot;This is the body of the message.&quot;   # =&gt;
    &lt;a href=&quot;mailto:me@domain.com?cc=&quot;ccaddress@domain.com&quot;&amp;bcc=&quot;bccaddress@domain.com&quot;&amp;body=&quot;This%20is%20the%20body%20of%20the%20message.&quot;&amp;subject=&quot;This%20is%20an%20example%20email&quot;&gt;My email&lt;/a&gt;
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000563-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000563-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb, line 220</span>
220:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">mail_to</span>(<span class="ruby-identifier">email_address</span>, <span class="ruby-identifier">name</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">html_options</span> = {})
221:         <span class="ruby-identifier">html_options</span> = <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">stringify_keys</span>
222:         <span class="ruby-identifier">encode</span> = <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value str">&quot;encode&quot;</span>)
223:         <span class="ruby-identifier">cc</span>, <span class="ruby-identifier">bcc</span>, <span class="ruby-identifier">subject</span>, <span class="ruby-identifier">body</span> = <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value str">&quot;cc&quot;</span>), <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value str">&quot;bcc&quot;</span>), <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value str">&quot;subject&quot;</span>), <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value str">&quot;body&quot;</span>)
224: 
225:         <span class="ruby-identifier">string</span> = <span class="ruby-value str">''</span>
226:         <span class="ruby-identifier">extras</span> = <span class="ruby-value str">''</span>
227:         <span class="ruby-identifier">extras</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;cc=#{CGI.escape(cc).gsub(&quot;+&quot;, &quot;%20&quot;)}&amp;&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">cc</span>.<span class="ruby-identifier">nil?</span>
228:         <span class="ruby-identifier">extras</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;bcc=#{CGI.escape(bcc).gsub(&quot;+&quot;, &quot;%20&quot;)}&amp;&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">bcc</span>.<span class="ruby-identifier">nil?</span>
229:         <span class="ruby-identifier">extras</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;body=#{CGI.escape(body).gsub(&quot;+&quot;, &quot;%20&quot;)}&amp;&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">body</span>.<span class="ruby-identifier">nil?</span>
230:         <span class="ruby-identifier">extras</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;subject=#{CGI.escape(subject).gsub(&quot;+&quot;, &quot;%20&quot;)}&amp;&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">subject</span>.<span class="ruby-identifier">nil?</span>
231:         <span class="ruby-identifier">extras</span> = <span class="ruby-value str">&quot;?&quot;</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">extras</span>.<span class="ruby-identifier">gsub!</span>(<span class="ruby-regexp re">/&amp;?$/</span>,<span class="ruby-value str">&quot;&quot;</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">extras</span>.<span class="ruby-identifier">empty?</span>
232: 
233:         <span class="ruby-identifier">email_address_obfuscated</span> = <span class="ruby-identifier">email_address</span>.<span class="ruby-identifier">dup</span>
234:         <span class="ruby-identifier">email_address_obfuscated</span>.<span class="ruby-identifier">gsub!</span>(<span class="ruby-regexp re">/@/</span>, <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value str">&quot;replace_at&quot;</span>)) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-value str">&quot;replace_at&quot;</span>)
235:         <span class="ruby-identifier">email_address_obfuscated</span>.<span class="ruby-identifier">gsub!</span>(<span class="ruby-regexp re">/\./</span>, <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value str">&quot;replace_dot&quot;</span>)) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-value str">&quot;replace_dot&quot;</span>)
236: 
237:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">encode</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'javascript'</span>
238:           <span class="ruby-identifier">tmp</span> = <span class="ruby-node">&quot;document.write('#{content_tag(&quot;a&quot;, name || email_address, html_options.merge({ &quot;href&quot; =&gt; &quot;mailto:&quot;+email_address.to_s+extras }))}');&quot;</span>
239:           <span class="ruby-keyword kw">for</span> <span class="ruby-identifier">i</span> <span class="ruby-keyword kw">in</span> <span class="ruby-value">0</span><span class="ruby-operator">...</span><span class="ruby-identifier">tmp</span>.<span class="ruby-identifier">length</span>
240:             <span class="ruby-identifier">string</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">sprintf</span>(<span class="ruby-value str">&quot;%%%x&quot;</span>,<span class="ruby-identifier">tmp</span>[<span class="ruby-identifier">i</span>])
241:           <span class="ruby-keyword kw">end</span>
242:           <span class="ruby-node">&quot;&lt;script type=\&quot;text/javascript\&quot;&gt;eval(unescape('#{string}'))&lt;/script&gt;&quot;</span>
243:         <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">encode</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'hex'</span>
244:           <span class="ruby-keyword kw">for</span> <span class="ruby-identifier">i</span> <span class="ruby-keyword kw">in</span> <span class="ruby-value">0</span><span class="ruby-operator">...</span><span class="ruby-identifier">email_address</span>.<span class="ruby-identifier">length</span>
245:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">email_address</span>[<span class="ruby-identifier">i</span>,<span class="ruby-value">1</span>] <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/\w/</span>
246:               <span class="ruby-identifier">string</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">sprintf</span>(<span class="ruby-value str">&quot;%%%x&quot;</span>,<span class="ruby-identifier">email_address</span>[<span class="ruby-identifier">i</span>])
247:             <span class="ruby-keyword kw">else</span>
248:               <span class="ruby-identifier">string</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">email_address</span>[<span class="ruby-identifier">i</span>,<span class="ruby-value">1</span>]
249:             <span class="ruby-keyword kw">end</span>
250:           <span class="ruby-keyword kw">end</span>
251:           <span class="ruby-identifier">content_tag</span> <span class="ruby-value str">&quot;a&quot;</span>, <span class="ruby-identifier">name</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">email_address_obfuscated</span>, <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">merge</span>({ <span class="ruby-value str">&quot;href&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;mailto:#{string}#{extras}&quot;</span> })
252:         <span class="ruby-keyword kw">else</span>
253:           <span class="ruby-identifier">content_tag</span> <span class="ruby-value str">&quot;a&quot;</span>, <span class="ruby-identifier">name</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">email_address_obfuscated</span>, <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">merge</span>({ <span class="ruby-value str">&quot;href&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;mailto:#{email_address}#{extras}&quot;</span> })
254:         <span class="ruby-keyword kw">end</span>
255:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000555" class="method-detail">
        <a name="M000555"></a>

        <div class="method-heading">
          <a href="#M000555" class="method-signature">
          <span class="method-name">url_for</span><span class="method-args">(options = {}, *parameters_for_method_reference)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns the URL for the set of <tt>options</tt> provided. This takes the
same options as <a href="UrlHelper.html#M000555">url_for</a>. For a list,
see the documentation for <a
href="../../ActionController/Base.html#M000365">ActionController::Base#url_for</a>.
Note that it&#8217;ll set :only_path =&gt; true so you&#8217;ll get
/controller/action instead of the <a
href="http://example.com/controller/action">example.com/controller/action</a>
part (makes it harder to parse httpd log files)
</p>
<p>
When called from a view, <a href="UrlHelper.html#M000555">url_for</a>
returns an HTML escaped url. If you need an unescaped url, pass :escape
=&gt; false to <a href="UrlHelper.html#M000555">url_for</a>.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000555-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000555-source">
<pre>
    <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb, line 20</span>
20:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">options</span> = {}, <span class="ruby-operator">*</span><span class="ruby-identifier">parameters_for_method_reference</span>)
21:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Hash</span>
22:           <span class="ruby-identifier">options</span> = { <span class="ruby-identifier">:only_path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span> }.<span class="ruby-identifier">update</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">symbolize_keys</span>)
23:           <span class="ruby-identifier">escape</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-identifier">:escape</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">:escape</span>) <span class="ruby-operator">:</span> <span class="ruby-keyword kw">true</span>
24:         <span class="ruby-keyword kw">else</span>
25:           <span class="ruby-identifier">escape</span> = <span class="ruby-keyword kw">true</span>
26:         <span class="ruby-keyword kw">end</span>
27: 
28:         <span class="ruby-identifier">url</span> = <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:url_for</span>, <span class="ruby-identifier">options</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">parameters_for_method_reference</span>)
29:         <span class="ruby-identifier">escape</span> <span class="ruby-value">? </span><span class="ruby-identifier">html_escape</span>(<span class="ruby-identifier">url</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">url</span>
30:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>